{
  "version": 3,
  "file": "Overlay.js",
  "sourceRoot": "..",
  "sources": [
    "components/Overlay.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "cn = require 'classnames'\nColor = require 'color'\ncss = require './Style.less'\n{StyleContext} = require './Style.coffee'\n\n\nclass Overlay extends Component\n\tconstructor: (props)->\n\t\tsuper(props)\n\t\t@state=\n\t\t\tvisible: if props.initial_visible? then props.initial_visible else props.visible\n\t\t\trender: props.visible\n\t\t\t\n\t\t\n\t\t\n\t\n\tsetBackdropColor: (bg,alpha)=>\n\t\tif bg == 'none'\n\t\t\treturn 'none'\n\t\treturn Color(bg).alpha(alpha).string()\n\t\n\tcomponentWillMount: ->\n\n\t\tif !@props.transparent\n\t\t\t@state.backdrop_color = @props.backdrop_color || @context.primary.inv[0]\n\t\t\t@state.backdrop_opaque_color = @setBackdropColor(@state.backdrop_color,@props.alpha)\n\t\t\n\t\t@state.visible = if @props.initial_visible? then @props.initial_visible else @props.visible\n\t\t@state.render = @props.visible\n\n\tcomponentWillUpdate: (props,state)->\n\t\tif props.backdrop_color != @props.backdrop_color || (@context.primary.inv[0] != @state.backdrop_color) || props.alpha != @props.alpha\n\t\t\tif !props.transparent\n\t\t\t\tstate.backdrop_color = props.backdrop_color || @context.primary.inv[0]\n\t\t\t\tstate.backdrop_opaque_color = @setBackdropColor(state.backdrop_color,props.alpha)\n\n\t\tif @props.visible != props.visible\n\t\t\tif props.visible\n\t\t\t\tstate.render = true\n\n\tcomponentDidUpdate: (p_props,p_state)->\n\t\tif @state.visible != @props.visible\n\t\t\t@setState\n\t\t\t\tvisible: @props.visible\n\t\t\t\n\t\t\tif !@props.visible\n\t\t\t\t@_timeout = setTimeout ()=>\n\t\t\t\t\t@setState\n\t\t\t\t\t\trender: @props.visible\n\t\t\t\t,350\n\t\n\tcomponentDidMount: (p_props,p_state)->\n\t\tif @state.visible != @props.visible\n\t\t\tsetTimeout =>\n\t\t\t\t@setState\n\t\t\t\t\tvisible: @props.visible\n\t\t\t,0\n\n\tcomponentWillUnmount: ->\n\t\tclearTimeout @_timeout\n\t\t@_timeout = null\n\t\n\tonClick: (e)=>\n\t\tif e.target != @_overlay\n\t\t\treturn\n\t\tif IS_TOUCH || !@props.visible\n\t\t\treturn false\n\t\t\n\t\t@props.onClick?(e)\n\t\n\tonTouchStart: (e)=>\n\t\tif e.target != @_overlay\n\t\t\treturn\n\t\t@touch_started = true\n\n\n\t\treturn false\n\n\tonTouchEnd: (e)=>\n\t\tif e.target != @_overlay\n\t\t\treturn\n\n\t\tif !@touch_started\n\t\t\treturn false\n\t\t\n\t\t@touch_started = false\n\t\t@props.onClick?(e)\n\n\toverlayRef: (el)=>\n\t\t@_overlay = el\n\n\trender: ->\n\n\t\toverlay_style = Object.assign \n\t\t\tzIndex: @props.z_index || 666\n\t\t\tdisplay: !@state.render && 'none' || ''\n\t\t\tpointerEvents: !@state.render && 'none'\n\t\t\tbackground: @props.background || @state.backdrop_opaque_color || 'none'\n\t\t,@props.style\n\n\t\t\n\t\th 'div',\n\t\t\tonClick: @props.pointer_events && @onClick || null\n\t\t\tref: @overlayRef\n\t\t\tonTouchStart: @props.pointer_events && @onTouchStart || null\n\t\t\tonTouchEnd: @props.pointer_events && @onTouchEnd || null\n\t\t\tclassName: cn(css['overlay'],@props.center && css['center'],!@state.visible && css['overlay-hidden'],@props.className,@props.children_pointer_events && css['overlay-children-pointer-events'],@props.pointer_events && css['overlay-blocking'])\n\t\t\tstyle: overlay_style\n\t\t\t@props.children\n\nOverlay.contextType = StyleContext\n\nOverlay.defaultProps = \n\tpointer_events: yes\n\ttransparent: no\n\talpha: 0.96\nmodule.exports = Overlay"
  ]
}